显然，当shared_ptr的引用计数变为0（需要释放资源）时，才会调用删除器进行资源释放。分析查询主程序，runQueries函数结束时，TextQuery对象tq生命周期结束，此时shared_ptr的引用计数变为0，会调用删除器释放资源（即vector<string>)，此时调用运算符被执行，释放资源并可以打印运行提示信息。由于runQueries是主函数最后的执行语句，因此运行效果是程序结束前打印出信息。最后这一点，可以通过运行练习 16.22中的程序验证（已在DebugDelete类的operator()中加入打印语句显示运行情况）。