教材正文中的方式更好一些：将合法性检查与元素获取和返回语句分离开来代码更清晰易读。当执行到第二条语句时，已确保p是存在的vector，curr是合法的位置，可安全地获取元素并返回。这种清晰的结构也更利于修改不同的处理逻辑。本题题干中的版本将合法性检查和元素获取及返回合在一条语句中，既不易读也不易修改。